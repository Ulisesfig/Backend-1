<h1>{{title}}</h1>

{{#if error}}
  <div class="alert alert-error">
    <strong>Error:</strong> {{error}}
  </div>
{{/if}}

{{#if hasProducts}}
  <div class="product-grid">
    {{#each products}}
      <div class="product-card">
        {{#if this.thumbnails.length}}
          {{#each this.thumbnails}}
            {{#if @first}}
              <div class="product-image">
                <img src="{{this}}" alt="Imagen del producto" onerror="this.src='https://via.placeholder.com/280x200?text=Sin+Imagen'">
              </div>
            {{/if}}
          {{/each}}
        {{/if}}
        <h3>{{this.title}}</h3>
        <p><strong>Código:</strong> {{this.code}}</p>
        <p><strong>Descripción:</strong> {{this.description}}</p>
        <p class="price">${{this.price}}</p>
        <p><strong>Stock:</strong> {{this.stock}} unidades</p>
        <p><strong>Categoría:</strong> {{this.category}}</p>
        {{#if this.status}}
          <span class="status available">Disponible</span>
        {{else}}
          <span class="status unavailable">No disponible</span>
        {{/if}}
        <p style="font-size: 0.8em; color: #999; margin-top: 10px;"><strong>ID:</strong> {{this.id}}</p>
      </div>
    {{/each}}
  </div>
{{else}}
  <div class="alert alert-success">
    <p>No hay productos en la base de datos.</p>
    <p>Puedes agregar productos desde la API o desde la vista de <a href="/realtimeproducts" style="color: #2e7d32; font-weight: bold;">Real Time Products</a>.</p>
  </div>
{{/if}}
